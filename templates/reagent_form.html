{% extends 'base.html' %}

{% block content %}
<h2 class="mb-4">{{ 'Изменить реактив' if reagent else 'Добавить реактив' }}</h2>

<form method="POST">
    <div class="card mb-4">
        <div class="card-header">Основная информация</div>
        <div class="card-body">
            <div class="mb-3">
                <label class="form-label">Название *</label>
                <input type="text" class="form-control" name="name" 
                    value="{{ reagent.name if reagent }}" required>
            </div>
            
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label class="form-label">Срок годности *</label>
                    <input type="date" class="form-control" name="expiry_date" 
                        value="{{ reagent.expiry_date.strftime('%Y-%m-%d') if reagent else '' }}" required>
                </div>
                <div class="col-md-6 mb-3">
                    <label class="form-label">Количество *</label>
                    <input type="number" step="0.01" class="form-control" name="quantity" 
                        value="{{ reagent.quantity if reagent else '' }}" required>
                </div>
            </div>
            
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label class="form-label">Единица измерения *</label>
                    <input type="text" class="form-control" name="unit" 
                        value="{{ reagent.unit if reagent else '' }}" required>
                </div>
                <div class="col-md-6 mb-3">
                    <label class="form-label">Чистота</label>
                    <input type="text" class="form-control" name="purity" 
                        value="{{ reagent.purity if reagent else '' }}">
                </div>
            </div>
        </div>
    </div>
    
    <div class="card mb-4">
        <div class="card-header">Дополнительная информация</div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label class="form-label">Стандарт</label>
                    <input type="text" class="form-control" name="standard" 
                        value="{{ reagent.standard if reagent else '' }}">
                </div>
                <div class="col-md-6 mb-3">
                    <label class="form-label">Методика</label>
                    <input type="text" class="form-control" name="method" 
                        value="{{ reagent.method if reagent else '' }}">
                </div>
            </div>
            
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label class="form-label">Номер партии</label>
                    <input type="text" class="form-control" name="batch_number" 
                        value="{{ reagent.batch_number if reagent else '' }}">
                </div>
                <div class="col-md-6 mb-3">
                    <label class="form-label">Дата производства</label>
                    <input type="date" class="form-control" name="production_date" 
                        value="{{ reagent.production_date.strftime('%Y-%m-%d') if reagent and reagent.production_date else '' }}">
                </div>
            </div>
            
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label class="form-label">Производитель</label>
                    <input type="text" class="form-control" name="manufacturer" 
                        value="{{ reagent.manufacturer if reagent else '' }}">
                </div>
                <div class="col-md-6 mb-3">
                    <label class="form-label">Срок предупреждения (дни) *</label>
                    <input type="number" class="form-control" name="warning_period" 
                        value="{{ reagent.warning_period if reagent else '30' }}" required>
                </div>
            </div>
        </div>
    </div>
    
    <button type="submit" class="btn btn-primary me-2">
        {{ 'Сохранить изменения' if reagent else 'Добавить реактив' }}
    </button>
    <a href="{{ url_for('reagents') }}" class="btn btn-secondary">Отмена</a>
</form>
{% endblock %}